**Дата:** 24 ноября 2025 г.

**Статус:** Принято

**Контекст:**  
В условиях микросервисной архитектуры с большим количеством сервисов необходимо обеспечить централизованный мониторинг и логирование для отслеживания производительности, доступности (MON01) и аудита действий (SEC03).

**Рассмотренные варианты:**

- **Мониторинг:**

  - Prometheus + Grafana: Фактический стандарт для сбора метрик и визуализации.
  - Datadog: Коммерческое решение с широкими возможностями, но требует затрат.
  - Zabbix: Классическое решение для мониторинга, но менее гибкое для cloud-сред.

- **Логирование:**
  - ELK Stack (Elasticsearch, Logstash, Kibana): Популярное решение для агрегации и анализа логов.
  - Loki + Grafana: Легковесное решение, хорошо интегрируется с Grafana.
  - Splunk: Мощное коммерческое решение для анализа логов.

**Решение:**

Выбраны Prometheus + Grafana для мониторинга и ELK Stack для логирования.

**Обоснование:**

- **Prometheus:** Отлично подходит для сбора метрик в динамических средах (Kubernetes), поддерживает мощный язык запросов PromQL.
- **Grafana:** Позволяет создавать информативные дашборды для визуализации метрик и логов.
- **ELK Stack:** Обеспечивает полный цикл работы с логами — сбор, парсинг, хранение и анализ.
- **Соответствие требованиям:** Данный стек позволяет выполнять требования к мониторингу (MON01) и аудиту (SEC03).

**Последствия:**

- Необходимо настроить экспортеры метрик (например, для JVM, БД, HTTP-запросов) и интегрировать их с Prometheus.
- Требуется развернуть и настроить ELK Stack для централизованного сбора логов со всех сервисов.
- Все микросервисы должны быть настроены на отправку логов в Logstash или напрямую в Elasticsearch.
- Необходимо обеспечить хранение и ротацию логов в соответствии с политиками безопасности и бюджетами.
